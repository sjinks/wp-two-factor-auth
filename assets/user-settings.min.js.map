{"version":3,"file":"user-settings.min.js","sources":["../assets-dev/user-settings.js"],"sourcesContent":["/** global: tfaSettings, XMLHttpRequest */\n(function() {\n\tfunction callback()\n\t{\n\t\tvar form = document.getElementById('tfa-reset-form');\n\t\tform && form.addEventListener('submit', function(e) {\n\t\t\tif (!confirm(tfaSettings.confirm)) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t});\n\n\t\tfunction makeRequest(params, callback)\n\t\t{\n\t\t\tvar req = new XMLHttpRequest();\n\t\t\treq.addEventListener('load', function() {\n\t\t\t\ttry {\n\t\t\t\t\tcallback(req.responseText);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tconsole && console.error(e);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treq.open('POST', tfaSettings.ajaxurl);\n\t\t\treq.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\t\t\treq.send(params);\n\t\t}\n\n\t\tfunction refreshCode()\n\t\t{\n\t\t\tvar otp = document.getElementById('otp');\n\t\t\totp.innerHTML = tfaSettings.refreshing;\n\t\t\tmakeRequest(\n\t\t\t\t'action=tfa-refresh-code&_ajax_nonce=' + tfaSettings.nonce,\n\t\t\t\tfunction(t)\n\t\t\t\t{\n\t\t\t\t\totp.innerText = t;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tvar rc = document.getElementById('refresh-code');\n\t\trc && rc.addEventListener('click', refreshCode);\n\n\t\tvar vf = document.getElementById('verify');\n\t\tvf && vf.addEventListener('click', function() {\n\t\t\tvar vr   = document.getElementById('verify-result');\n\t\t\tvar code = document.getElementById('otpcode').value;\n\t\t\trefreshCode();\n\t\t\tvr.innerHTML = '';\n\t\t\tmakeRequest(\n\t\t\t\t'action=tfa-verify-code&_ajax_nonce=' + tfaSettings.vnonce + '&code=' + encodeURIComponent(code),\n\t\t\t\tfunction(t)\n\t\t\t\t{\n\t\t\t\t\tvr.innerHTML = t;\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t}\n\n\tif (document.readyState === 'loading') {\n\t\tdocument.addEventListener('DOMContentLoaded', callback);\n\t}\n\telse {\n\t\tcallback();\n\t}\n})();\n"],"names":["callback","form","document","getElementById","makeRequest","params","req","XMLHttpRequest","addEventListener","responseText","e","console","error","open","tfaSettings","ajaxurl","setRequestHeader","send","refreshCode","otp","innerHTML","refreshing","nonce","t","innerText","confirm","preventDefault","rc","vf","vr","code","value","vnonce","encodeURIComponent","readyState"],"mappings":"CACA,WACC,SAASA,IAER,IAAIC,EAAOC,SAASC,eAAe,kBAOnC,SAASC,EAAYC,EAAQL,GAE5B,IAAIM,EAAM,IAAIC,eACdD,EAAIE,iBAAiB,QAAQ,WAC5B,IACCR,EAASM,EAAIG,cAEd,MAAOC,GACNC,SAAWA,QAAQC,MAAMF,OAI3BJ,EAAIO,KAAK,OAAQC,YAAYC,SAC7BT,EAAIU,iBAAiB,eAAgB,qCACrCV,EAAIW,KAAKZ,GAGV,SAASa,IAER,IAAIC,EAAMjB,SAASC,eAAe,OAClCgB,EAAIC,UAAYN,YAAYO,WAC5BjB,EACC,uCAAyCU,YAAYQ,OACrD,SAASC,GAERJ,EAAIK,UAAYD,KA/BnBtB,GAAQA,EAAKO,iBAAiB,UAAU,SAASE,GAC3Ce,QAAQX,YAAYW,UACxBf,EAAEgB,oBAkCJ,IAAIC,EAAKzB,SAASC,eAAe,gBACjCwB,GAAMA,EAAGnB,iBAAiB,QAASU,GAEnC,IAAIU,EAAK1B,SAASC,eAAe,UACjCyB,GAAMA,EAAGpB,iBAAiB,SAAS,WAClC,IAAIqB,EAAO3B,SAASC,eAAe,iBAC/B2B,EAAO5B,SAASC,eAAe,WAAW4B,MAC9Cb,IACAW,EAAGT,UAAY,GACfhB,EACC,sCAAwCU,YAAYkB,OAAS,SAAWC,mBAAmBH,IAC3F,SAASP,GAERM,EAAGT,UAAYG,QAMS,YAAxBrB,SAASgC,WACZhC,SAASM,iBAAiB,mBAAoBR,GAG9CA,IA/DF"}